<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>datumaro.util.mask_tools</title>
    <meta name="generator" content="pydoctor 21.9.1"> 
        
    </meta>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta content="width=device-width, initial-scale=0.75" name="viewport" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="apidocs.css" rel="stylesheet" type="text/css" />
    <link href="extra.css" rel="stylesheet" type="text/css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="C:/Program Files/Git/docs/" class="projecthome">datumaro</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="datumaro.html">datumaro</a></code><wbr></wbr>.<code><a href="datumaro.util.html">util</a></code><wbr></wbr>.<code><a href="datumaro.util.mask_tools.html">mask_tools</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1230">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#bgr2index">bgr2index</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#check_is_mask">check_is_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#crop_covered_segments">crop_covered_segments</a></code></td>
    <td>Find all segments occluded by others and crop them to the visible part only. Input segments are expected to be sorted from background to foreground.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#find_mask_bbox">find_mask_bbox</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#generate_colormap">generate_colormap</a></code></td>
    <td>Generates colors using PASCAL VOC algorithm.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#index2bgr">index2bgr</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#invert_colormap">invert_colormap</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#lazy_mask">lazy_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#load_mask">load_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#make_binary_mask">make_binary_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#make_index_mask">make_index_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#mask_to_polygons">mask_to_polygons</a></code></td>
    <td>Convert an instance mask to polygons</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#mask_to_rle">mask_to_rle</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#merge_masks">merge_masks</a></code></td>
    <td>Merges masks into one, mask order is responsible for z order. To avoid memory explosion on mask materialization, consider passing a generator.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#paint_mask">paint_mask</a></code></td>
    <td>Applies colormap to index mask</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#remap_mask">remap_mask</a></code></td>
    <td>Changes mask elements from one colormap to another</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#rles_to_mask">rles_to_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#unpaint_mask">unpaint_mask</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_default_colormap">_default_colormap</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_default_unpaint_colormap">_default_unpaint_colormap</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.bgr2index">
    
  </a>
  <a name="bgr2index">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">bgr2index</span>(img):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.check_is_mask">
    
  </a>
  <a name="check_is_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">check_is_mask</span>(mask):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.crop_covered_segments">
    
  </a>
  <a name="crop_covered_segments">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">crop_covered_segments</span>(segments, width, height, iou_threshold=0.0, ratio_tolerance=0.001, area_threshold=1, return_masks=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.find_mask_bbox">
    
  </a>
  <a name="find_mask_bbox">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">find_mask_bbox</span>(mask):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int">int</a>, <wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int">int</a>, <wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int">int</a>, <a href="https://docs.python.org/3/library/functions.html#int">int</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.generate_colormap">
    
  </a>
  <a name="generate_colormap">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">generate_colormap</span>(length=256, include_background=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.index2bgr">
    
  </a>
  <a name="index2bgr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">index2bgr</span>(id_map):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.invert_colormap">
    
  </a>
  <a name="invert_colormap">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">invert_colormap</span>(colormap):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.lazy_mask">
    
  </a>
  <a name="lazy_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">lazy_mask</span>(path, inverse_colormap=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.load_mask">
    
  </a>
  <a name="load_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">load_mask</span>(path, inverse_colormap=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.make_binary_mask">
    
  </a>
  <a name="make_binary_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">make_binary_mask</span>(mask):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.make_index_mask">
    
  </a>
  <a name="make_index_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">make_index_mask</span>(binary_mask, index, dtype=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.mask_to_polygons">
    
  </a>
  <a name="mask_to_polygons">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">mask_to_polygons</span>(mask, area_threshold=1):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.mask_to_rle">
    
  </a>
  <a name="mask_to_rle">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">mask_to_rle</span>(binary_mask):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.merge_masks">
    
  </a>
  <a name="merge_masks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">merge_masks</span>(masks, start=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Merges masks into one, mask order is responsible for z order. To avoid memory explosion on mask materialization, consider passing a generator.</p>
<p>Inputs: a sequence of index masks or (binary mask, index) pairs Outputs: an index mask</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.paint_mask">
    
  </a>
  <a name="paint_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">paint_mask</span>(mask, colormap=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Applies colormap to index mask</p>
<p>mask: HW(C) [0; max_index] mask colormap: index -&gt; (R, G, B)</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.remap_mask">
    
  </a>
  <a name="remap_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">remap_mask</span>(mask, map_fn):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Changes mask elements from one colormap to another</p>
<p># mask: HW(C) [0; max_index] mask</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.rles_to_mask">
    
  </a>
  <a name="rles_to_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">rles_to_mask</span>(rles, width, height):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="datumaro.util.mask_tools.unpaint_mask">
    
  </a>
  <a name="unpaint_mask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unpaint_mask</span>(painted_mask, inverse_colormap=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="datumaro.util.mask_tools._default_colormap">
    
  </a>
  <a name="_default_colormap">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_default_colormap</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="datumaro.util.mask_tools._default_unpaint_colormap">
    
  </a>
  <a name="_default_unpaint_colormap">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_default_unpaint_colormap</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="C:/Program Files/Git/docs/" class="projecthome">datumaro</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.9.1 at 2021-10-21 11:45:17.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>